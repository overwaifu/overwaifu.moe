{{ with .character }}
{{ $purity := math.Round (mul $.skin.score.pure 100) }}
{{ $lewdness := math.Round (mul $.skin.score.lewd 100) }}

{{ $text := $.achievement.text }}
{{ $text := replace $text "{{ .name }}" .name }}
{{ $text := replace $text "{{ .real_name }}" .real_name }}
{{ $text := replace $text "{{ .skin.name }}" $.skin.name }}
{{ $text := replace $text "{{ .skin.score.all }}" $.skin.score.all }}
{{ $text := replace $text "{{ .skin.score.explicit }}" $.skin.score.explicit }}
{{ $text := replace $text "{{ .skin.purity }}" $purity }}
{{ $text := replace $text "{{ .skin.lewdness }}" $lewdness }}

<div class="card">
  <div class="card-header">
      <p class="card-header-title">{{ $.achievement.title }}</p>
      <span class="card-header-icon">
        <span class="icon tooltip is-tooltip-left is-tooltip-primary" data-tooltip="{{ $.achievement.description }}">
          <i class="far fa-question-circle" aria-hidden="true"></i>
        </span>
      </span>
    </div>
  <div class="card-image">
    <figure class="image is-square">
      <img src="/img/skins/{{ .key }}/{{ $.skin.key }}.png" draggable="false">
    </figure>
  </div>
  <div class="card-content">
    <h2 class="title heading is-4">{{ .name }} <span class="has-text-{{ $.skin.rarity }}">{{ $.skin.name }}</span></h2>
    <h3 class="subtitle heading is-6 is-overwatch has-text-grey-light">{{ .real_name }}</h3>
    <p>{{ $text | markdownify }}</p>
  </div>
</div>
{{ end }}
